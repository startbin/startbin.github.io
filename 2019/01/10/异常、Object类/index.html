<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>异常、Object类 | Quantity Accumulation and Quality Leap</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="第5天 异常今日学习内容u 异常今日学习目标u 能够辨别程序中异常和错误的区别u 说出异常的分类u 说出虚拟机处理异常的方式u 列举出常见的四个运行期异常u 能够使用try…catch关键字处理异常u 能够使用throws关键字处理异常u 能够自定义异常类u 能够处理自定义异常类u 能够理解Object的equals方法u 能偶理解Object的toString方法第1章&amp;nbsp; Object">
<meta property="og:type" content="article">
<meta property="og:title" content="异常、Object类">
<meta property="og:url" content="http://yoursite.com/2019/01/10/异常、Object类/index.html">
<meta property="og:site_name" content="Quantity Accumulation and Quality Leap">
<meta property="og:description" content="第5天 异常今日学习内容u 异常今日学习目标u 能够辨别程序中异常和错误的区别u 说出异常的分类u 说出虚拟机处理异常的方式u 列举出常见的四个运行期异常u 能够使用try…catch关键字处理异常u 能够使用throws关键字处理异常u 能够自定义异常类u 能够处理自定义异常类u 能够理解Object的equals方法u 能偶理解Object的toString方法第1章&amp;nbsp; Object">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycKt4SsjZXFDhUYIMJ4DCia56f3tPreSuibuWDF177ElGHE9mSDQBh3tpA/640?wx_fmt=png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycU0EVYUR3F7ic5SOibiaUjETIXQWG8pVEGMnqZK2qctC8H81A6jkgNHLdA/640?wx_fmt=png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycqJvhDQrQekOJkbxUgQK63QVMLomZmBrX5uYPkxkOloklcL91JDOpqg/640?wx_fmt=png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycWic1icp83tgGPWvLIant0AyBrBw4icZQ4DhsiaZbUpzmJnqibDxpubCyOqw/640?wx_fmt=png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycsD5x4MrBnnszaibwZbPRmS1x091sI6XsucjcFSicutjcKBX4gGOYYB5Q/640?wx_fmt=png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycvr49dnBoF79CTuhx2liceXrRccXKO0JY1KLKBEFZM6JKiaOYRB2J0Rog/640?wx_fmt=png">
<meta property="og:updated_time" content="2019-01-10T15:45:05.481Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="异常、Object类">
<meta name="twitter:description" content="第5天 异常今日学习内容u 异常今日学习目标u 能够辨别程序中异常和错误的区别u 说出异常的分类u 说出虚拟机处理异常的方式u 列举出常见的四个运行期异常u 能够使用try…catch关键字处理异常u 能够使用throws关键字处理异常u 能够自定义异常类u 能够处理自定义异常类u 能够理解Object的equals方法u 能偶理解Object的toString方法第1章&amp;nbsp; Object">
<meta name="twitter:image" content="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycKt4SsjZXFDhUYIMJ4DCia56f3tPreSuibuWDF177ElGHE9mSDQBh3tpA/640?wx_fmt=png">
  
    <link rel="alternate" href="/atom.xml" title="Quantity Accumulation and Quality Leap" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Quantity Accumulation and Quality Leap</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-异常、Object类" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/10/异常、Object类/" class="article-date">
  <time datetime="2019-01-10T15:34:49.000Z" itemprop="datePublished">2019-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      异常、Object类
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycKt4SsjZXFDhUYIMJ4DCia56f3tPreSuibuWDF177ElGHE9mSDQBh3tpA/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycKt4SsjZXFDhUYIMJ4DCia56f3tPreSuibuWDF177ElGHE9mSDQBh3tpA/640?wx_fmt=png"></p><p style="text-align:justify;text-justify:inter-ideograph;text-indent:0;"><span style="font-family: 黑体;">第</span>5<span style="font-family:黑体;">天</span> <span style="font-family:黑体;">异常</span></p><p><span style="font-size:21px;">今日学习内容</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">异常</span></p><p><span style="font-size:21px;">今日学习目标</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够辨别程序中异常和错误的区别</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">说出异常的分类</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">说出虚拟机处理异常的方式</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">列举出常见的四个运行期异常</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够使用</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">try…catch</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">关键字处理异常</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够使用</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">throws</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">关键字处理异常</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够自定义异常类</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够处理自定义异常类</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能够理解</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">Object</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">的</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">equals</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">方法</span></p><p><span style="font-family:Wingdings;font-weight:normal;">u </span><span style="font-size:14px;font-family:宋体;font-weight:normal;">能偶理解</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">Object</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">的</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">toString</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">方法</span></p><h1 style="margin-left: 59px;font-weight: bold;font-size: 16px;line-height: 1.6em;"><span style="font-family:宋体;">第1章<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">Object</span><span style="font-family:宋体;">类</span></h1><p style="text-indent:28px;"><span style="font-family:宋体;">在以前的学习过程中，我们都在学习对象基本特征、对象的使用以及对象的关系。接下来我们开始使用对象做事情，那么在使用对象做事情之前，我们要学习一些</span>API<span style="font-family:宋体;">中提供的常用对象。首先来学习</span>API<span style="font-family:宋体;">中的</span>Object<span style="font-family:宋体;">这个类。</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">1.1<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object<span style="font-family:华文楷体;">类概述</span></h2><p style="text-indent:28px;"><span style="font-family:宋体;">当定义一个</span>Animal<span style="font-family:宋体;">类时</span>,<span style="font-family:宋体;">我们发现我们并没有写成员方法</span>,<span style="font-family:宋体;">但是能调用</span>,<span style="font-family:宋体;">这是因为它继承了</span>Object<span style="font-family:宋体;">类</span>.</p><p style="text-indent:28px;">Object<span style="font-family:宋体;">类是</span>Java<span style="font-family:宋体;">语言中的根类，即所有类的父类。它中描述的所有方法子类都可以使用。所有类在创建对象的时候，最终找的父类就是</span>Object<span style="font-family:宋体;">。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">在</span>Object<span style="font-family:宋体;">类众多方法中，我们先学习</span>equals<span style="font-family:宋体;">方法与</span>toString<span style="font-family:宋体;">方法，其他方法后面课程中会陆续学到。</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">1.2<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>equals<span style="font-family:华文楷体;">方法</span></h2><p style="margin-left:28px;text-indent:28px;"><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycU0EVYUR3F7ic5SOibiaUjETIXQWG8pVEGMnqZK2qctC8H81A6jkgNHLdA/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycU0EVYUR3F7ic5SOibiaUjETIXQWG8pVEGMnqZK2qctC8H81A6jkgNHLdA/640?wx_fmt=png"></p><p style="margin-left:0;text-indent:28px;">1.<span style="color:red;">equals</span><span style="font-family:宋体;color:red;">方法，用于比较两个对象是否相同</span><span style="font-family:宋体;">，它其实就是使用两个对象的内存地址在比</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">较。</span>Object<span style="font-family:宋体;">类中的</span>equals<span style="font-family:宋体;">方法内部使用的就是</span>==<span style="font-family:宋体;">比较运算符。</span></p><p style="margin-left:0;text-indent:28px;">2.<span style="font-family: 宋体;">试试创建两个</span>String<span style="font-family:宋体;">对象</span>,<span style="font-family:宋体;">调用</span>equals<span style="font-family:宋体;">方法比较一下</span>,<span style="font-family:宋体;">你看看会有什么结论</span>?</p><p style="margin-left:56px;text-indent:28px;"><span style="font-family:宋体;">为什么</span>?<span style="font-family:宋体;">因为</span>String<span style="font-family:宋体;">类重写了</span>equals<span style="font-family:宋体;">方法</span>,<span style="font-family:宋体;">改成比较内容了</span></p><p style="margin-left:0;text-indent:28px;">3.<span style="font-family: 宋体;">那我们自己定义的类能否重写</span>equals<span style="font-family:宋体;">方法呢</span>?<span style="font-family:宋体;">可以</span>,<span style="font-family:宋体;">按照我们自己的要求进行比较</span></p><p><br></p><p style="margin-left:28px;text-indent:28px;"><span style="font-family:宋体;">需求</span>:<span style="font-family:宋体;">在开发中要比较两个对象是否相同，经常会根据对象中的属性值进行比较，也就是在开发经常需要子类重写</span>equals<span style="font-family:宋体;">方法根据对象的属性值进行比较。如下代码演示：</span></p><p>/<em></em></p><p>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">描述人这个类，并定义功能根据年龄判断是否是同龄人</span></p><p>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">由于要根据指定类的属性进行比较，这时只要覆盖</span>Object<span style="font-family:宋体;">中的</span>equals<span style="font-family: 宋体;">方法</span></p><p>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">在方法体中根据类的属性值进行比较</span></p><p>&nbsp;/</p><p>class Person extends Object{</p><p>&nbsp;&nbsp;&nbsp; int age ;</p><p>&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">复写父类的</span>equals<span style="font-family:宋体;">方法，实现自己的比较方式</span></p><p>&nbsp;&nbsp;&nbsp; public boolean equals(Object obj) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">判断当前调用</span>equals<span style="font-family:宋体;">方法的对象和传递进来的对象是否是同一个</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(this == obj){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">判断传递进来的对象是否是</span>Person<span style="font-family:宋体;">类型</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!(obj instanceof Person)){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">将</span>obj<span style="font-family: 宋体;">向下转型为</span>Perosn<span style="font-family:宋体;">引用，访问其属性</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Person p = (Person)obj;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this.age == p.age;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="margin-left:28px;text-indent:28px;"><strong><span style="font-family:宋体;">注意</span></strong><span style="font-family: 宋体;">：在复写</span>Object<span style="font-family:宋体;">中的</span>equals<span style="font-family:宋体;">方法时，一定要注意</span>public boolean equals(Object obj)<span style="font-family:宋体;">的参数是</span>Object<span style="font-family:宋体;">类型，在调用对象的属性时，一定要进行类型转换，在转换之前必须进行类型判断。</span></p><p style="margin-left:28px;text-indent:28px;"><span style="font-family:宋体;">友情提示</span>:<span style="font-family:宋体;">需要重写的时候可以利用</span>eclipse<span style="font-family:宋体;">提供的快捷键直接生成</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">1.3<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>toString<span style="font-family:华文楷体;">方法</span></h2><p style="text-indent:28px;"><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycqJvhDQrQekOJkbxUgQK63QVMLomZmBrX5uYPkxkOloklcL91JDOpqg/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycqJvhDQrQekOJkbxUgQK63QVMLomZmBrX5uYPkxkOloklcL91JDOpqg/640?wx_fmt=png"></p><p style="text-indent:28px;"><span style="color:red;">1.toString</span><span style="font-family:宋体;color:red;">方法返回该对象的字符串表示</span><span style="font-family:宋体;">，其实该字符串内容就是对象的类型</span>+@+<span style="font-family:宋体;">内存地址值。</span></p><p style="text-indent:28px;">2.<span style="font-family:宋体;">在我们直接使用输出语句输出对象名的时候</span>,<span style="font-family:宋体;">其实通过该对象调用了其</span>toString()<span style="font-family:宋体;">方法</span>.</p><p style="text-indent:28px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">但是</span>toString<span style="font-family:宋体;">返回值的地址</span> <span style="font-family:宋体;">对我们来说没有实际价值的</span></p><p style="text-indent:28px;">3.<span style="font-family:宋体;">由于</span>toString<span style="font-family:宋体;">方法返回的结果是内存地址，而在开发中，经常需要按照对象的属性得到相应的字符串表现形式，因此也需要重写它。</span></p><p>class Person extends Object{</p><p>&nbsp;&nbsp;&nbsp; int age ;</p><p>&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">根据</span>Person<span style="font-family: 宋体;">类的属性重写</span>toString<span style="font-family:宋体;">方法</span></p><p>&nbsp;&nbsp;&nbsp; public String toString() {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return “Person [age=” + age + “]”;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="margin-left:28px;text-indent:0;"><span style="font-size:14px;font-family: 宋体;font-weight: normal;">注意</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">:toString()</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">方法在</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">eclipse</span><span style="font-size:14px;font-family:宋体;font-weight:normal;">里也有快捷键生成</span><span style="font-size:14px;font-family:'Calibri','sans-serif';font-weight:normal;">.</span></p><h1 style="margin-left: 59px;font-weight: bold;font-size: 16px;line-height: 1.6em;">第2章<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;">异常</span></h1><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">2.1<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">异常概念</span></h2><p style="text-indent:28px;"><span style="font-family:宋体;">在</span>Java<span style="font-family:宋体;">等面向对象的编程语言中，异常本身是一个类，产生异常就是创建异常对象并抛出了一个异常对象。</span>Java<span style="font-family:宋体;">处理异常的方式是中断处理。</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">2.2<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">异常分类</span></h2><p style="margin-left:28px;text-indent:0;line-height:150%;"><span style="font-family:宋体;">异常和错误的根类是</span>Throwable<span style="font-family:宋体;">，</span><span style="font-family:宋体;background:yellow;background:yellow;">异常类皆继承</span><span style="font-family:宋体;background:yellow;background:yellow;">java.lang.Throwable</span></p><p style="margin-left:28px;"><span style="font-family:宋体;">其下有两个子类：</span>Error<span style="font-family:宋体;">与</span>Exception<span style="font-family:宋体;">，平常所说的异常指</span>Exception<span style="font-family:宋体;">。</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">严重错误</span>Error<span style="font-family:宋体;">，无法通过处理的错误</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">编译时异常</span>Exception<span style="font-family:宋体;">，编译时无法编译通过。如日期格式化异常</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">运行时异常</span>RuntimeException<span style="font-family:宋体;">，是</span>Exception<span style="font-family:宋体;">的子类，运行时可能会报错，可以不处理。如数学异常</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">2.3<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">异常基本操作</span></h2><p style="margin-left:56px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">创建异常对象（</span>JDK<span style="font-family:宋体;">已定义的异常会自动创建对象，自定义异常需要手动创建）</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">对异常的基本操作</span> <span style="font-family:宋体;">主要有两种</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;color:red;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;color:red;">抛出异常（</span><span style="color:red;">JDK</span><span style="font-family:宋体;color:red;">已有定义的异常会自动抛出异常，自定义异常需要手动抛出）</span></p><p style="margin-left:56px;"><span style="font-family:Wingdings;color:red;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;color:red;">处理异常：</span></p><p style="margin-left:28px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;color:red;">捕获处理，将异常获取，使用</span><span style="color:red;">try/catch</span><span style="font-family:宋体;color:red;">做分支处理</span></p><p style="margin-left:28px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try{</span></p><p style="margin-left:28px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">需要检测的异常；</span></p><p style="margin-left:84px;text-indent:13px;"><span style="color:red;">}&nbsp; catch(</span><span style="font-family:宋体;color:red;">异常对象</span><span style="color:red;">) {</span></p><p style="margin-left:84px;text-indent:13px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">异常处理代码</span></p><p style="margin-left:84px;text-indent:13px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">可以调用异常的方法</span></p><p style="margin-left:84px;text-indent:13px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">通常我们只使用一个方法：</span><strong><span style="color:red;">printStackTrace</span></strong><strong><span style="font-family:宋体;color:red;">打印异常信息</span></strong></p><p style="margin-left:84px;text-indent:13px;"><span style="color:red;">}</span></p><p style="margin-left:28px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">声明抛出处理，出现异常后不处理，声明抛出给调用者处理。</span></p><p style="margin-left:28px;"><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">方法声明上加</span><span style="color:red;">throws&nbsp; </span><span style="font-family:宋体;color:red;">异常类名</span></p><p style="margin-left:28px;"><br></p><p style="margin-left:28px;"><span style="font-family:宋体;color:red;">注意：异常处理，指处理的一种可能性，即有了异常处理的代码，不一定会产生异常。如果没有产生异常，则代码正常执行，如果产生了异常，则中断当前执行代码，执行异常处理代码。</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">2.4<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">异常的产生过程解析</span></h2><p style="text-indent:28px;"><span style="font-family:宋体;">先运行下面的程序，程序会产生一个数组索引越界异常</span>ArrayIndexOfBoundsException<span style="font-family:宋体;">。我们通过图解来解析下异常产生的过程。</span></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>工具类</p><p style="text-indent:24px;">class ArrayTools{</p><p style="text-indent:52px;">//<span style="font-family:宋体;">对给定的数组通过给定的角标获取元素。</span></p><p style="text-indent:52px;">public static int getElement(int[] arr,int index)&nbsp;&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int element = arr[index];</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return element;</p><p style="text-indent:52px;">}</p><p style="text-indent:24px;">}</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>测试类</p><p>class ArrayTools{</p><p>&nbsp;&nbsp;&nbsp; public static void main(String[] args) &nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] arr = {34,12,67};</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int num = ArrayTools.getElement(arr,4)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(“num=”+num);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(“over”);</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><br></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>上述程序执行过程图解：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycWic1icp83tgGPWvLIant0AyBrBw4icZQ4DhsiaZbUpzmJnqibDxpubCyOqw/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycWic1icp83tgGPWvLIant0AyBrBw4icZQ4DhsiaZbUpzmJnqibDxpubCyOqw/640?wx_fmt=png"></p><p><br></p><p style="margin-left:28px;"><br></p><h3 style="font-weight: bold;font-size: 16px;line-height: 1.6em;">2.4.1<span style="font-family:宋体;">抛出异常</span>throw</h3><p style="text-indent:28px;"><span style="font-family:宋体;">在编写程序时，我们必须要考虑程序出现问题的情况。比如，在定义方法时，方法需要接受参数。那么，当调用方法使用接受到的参数时，首先需要先对参数数据进行合法的判断，数据若不合法，就应该告诉调用者，传递合法的数据进来。这时需要使用抛出异常的方式来告诉调用者。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;color:red;">模拟</span><span style="color:red;">JVM</span><span style="font-family:宋体;color:red;">抛出异常</span><span style="color:red;">:</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">比如代码</span>:<span style="font-family:宋体;">方法</span>getElement <span style="font-family:宋体;">必须告诉</span>main<span style="font-family:宋体;">方法</span> <span style="font-family: 宋体;">你这个数组长度不够越界了</span></p><p style="text-align:left;text-indent:28px;"><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">public</span></strong> <strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">static</span></strong> <strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">void</span></strong><span style="font-size:16px;font-family:Consolas;color:black;"> main(String[] </span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">args</span><span style="font-size:16px;font-family:Consolas;color:black;">) {</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size: 16px;font-family:Consolas;color:#3F7F5F;">先创建一个数组</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">int</span></strong><span style="font-size:16px;font-family:Consolas;color:black;">[] </span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">arr</span><span style="font-size:16px;font-family:Consolas;color:black;"> = {1,2,3};</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">int</span></strong> <span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">element</span><span style="font-size:16px;font-family:Consolas;color:black;"> = <em>getElement</em>(</span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">arr</span><span style="font-size:16px;font-family:Consolas;color:black;">);</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size:16px;font-family:Consolas;color:#0000C0;">out</span></em></strong><span style="font-size:16px;font-family:Consolas;color:black;">.println(</span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">element</span><span style="font-size:16px;font-family:Consolas;color:black;">);</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp; }</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp; </span><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size: 16px;font-family:Consolas;color:#3F7F5F;">方法</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp; </span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">public</span></strong> <strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">static</span></strong> <strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">int</span></strong><span style="font-size:16px;font-family:Consolas;color:black;"> getElement(</span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">int</span></strong><span style="font-size:16px;font-family:Consolas;color:black;">[] </span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">arr</span><span style="font-size:16px;font-family:Consolas;color:black;">){</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">int</span></strong> <span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">num</span><span style="font-size:16px;font-family:Consolas;color:black;"> = </span><span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">arr</span><span style="font-size:16px;font-family:Consolas;color:black;">[4];</span><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size: 16px;font-family:宋体;color:#3F7F5F;">这里可能出错</span><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;">,</span><span style="font-size:16px;font-family:宋体;color:#3F7F5F;">要告诉调用者方法</span></p><p style="text-align:left;text-indent:28px;"><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:16px;font-family:宋体;color:#3F7F5F;">如何告诉呢</span><span style="font-size:16px;font-family:Consolas;color:#3F7F5F;"> ? </span><span style="font-size:16px;font-family:宋体;color:#3F7F5F;">下面红色文字就是答案</span></p><p style="text-align:left;"><span style="font-size:16px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:16px;font-family:Consolas;color:#7F0055;">return</span></strong> <span style="font-size:16px;font-family:Consolas;color:#6A3E3E;">num</span><span style="font-size:16px;font-family:Consolas;color:black;">;</span></p><p style="text-indent:28px;"><span style="font-size:16px;font-family:Consolas;color:black;">}</span></p><p style="text-indent:28px;"><span style="font-family:宋体;color:red;">在</span><span style="color:red;">java</span><span style="font-family:宋体;color:red;">中，提供了一个</span><span style="color:red;">throw</span><span style="font-family:宋体;color:red;">关键字，它用来抛出一个指定的异常对象。那么，抛出一个异常具体如何操作呢？</span></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>1,创建一个异常对象。封装一些提示信息(信息可以自己编写)。</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>2,需要将这个异常对象交给调用者。怎么给调用者呢？也就是怎么将这个异常对象传递到调用者处呢？通过关键字throw就可以完成。<span style="color:red;">throw </span><span style="color:red;">异常对象；</span></p><p style="text-indent:28px;">throw<span style="font-family:宋体;">用在方法内，用来抛出一个异常对象，将这个异常对象传递到调用者处，并结束当前方法的执行。</span></p><p style="margin-left:28px;text-indent:0;"><span style="color:red;">使用格式：</span></p><p><span style="color:red;">throw new </span><span style="font-family:宋体;color:red;">异常类名</span><span style="color:red;">(</span><span style="font-family:宋体;color:red;">参数</span><span style="color:red;">);</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">例如：</span></p><p>throw new NullPointerException(“<span style="font-family:宋体;">要访问的</span>arr<span style="font-family: 宋体;">数组不存在</span>“);</p><p>throw new ArrayIndexOutOfBoundsException(“<span style="font-family:宋体;">该索引在数组中不存在，已超出范围</span>“);</p><p style="margin-left:0;text-indent:28px;">学习完抛出异常的格式后，我们通过下面程序演示下throw的使用。</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>编写工具类，提供获取数组指定索引处的元素值</p><p>class ArrayTools{</p><p>&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">通过给定的数组，返回给定的索引对应的元素值。</span></p><p>&nbsp;&nbsp;&nbsp; public static int getElement(int[] arr,int index)&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:red;">/<em></em></span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">若程序出了异常，</span><span style="color:red;">JVM</span><span style="font-family:宋体;color:red;">它会打包异常对象并抛出。但是它所提供的信息不够给力。想要更清晰，需要自己抛出异常信息。</span></p><p style="text-indent:88px;"><span style="font-family:宋体;color:red;">下面判断条件如果满足，当执行完</span><span style="color:red;">throw</span><span style="font-family:宋体;color:red;">抛出异常对象后，方法已经无法继续运算。这时就会结束当前方法的执行，并将异常告知给调用者。这时就需要通过异常来解决。</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(arr==null){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new NullPointerException(“arr<span style="font-family:宋体;">指向的数组不存在</span>“);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(index&lt;0 || index&gt;=arr.length){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new ArrayIndexOutOfBoundsException(“<span style="font-family:宋体;">错误的角标，</span>“+index+”<span style="font-family:宋体;">索引在数组中不存在</span>“);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int element = arr[index];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return element;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>测试类</p><p>class ExceptionDemo3 {</p><p>&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] arr = {34,12,67}; //<span style="font-family:宋体;">创建数组</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int num = ArrayTools.getElement(null,2);// <span style="font-family:宋体;">调用方法，获取数组中指定索引处元素</span></p><p style="text-indent:82px;">//int num = ArrayTools.getElement(arr,5);// <span style="font-family:宋体;">调用方法，获取数组中指定索引处元素</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(“num=”+num);//<span style="font-family:宋体;">打印获取到的元素值</span></p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="margin-left:0;text-indent:0;"><br></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>下面是异常类ArrayIndexOutOfBoundsException与NullPointerException的构造方法</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycsD5x4MrBnnszaibwZbPRmS1x091sI6XsucjcFSicutjcKBX4gGOYYB5Q/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycsD5x4MrBnnszaibwZbPRmS1x091sI6XsucjcFSicutjcKBX4gGOYYB5Q/640?wx_fmt=png"></p><h3 style="font-weight: bold;font-size: 16px;line-height: 1.6em;">2.4.2<span style="font-family:宋体;">声明异常</span>throws</h3><p style="text-indent:28px;"><span style="font-family:宋体;">声明：将异常标识出来，报告给调用者我这个方法可能会出现这种异常。如果方法内通过</span>throw<span style="font-family:宋体;">抛出了编译时异常，而没有捕获处理（稍后讲解该方式），那么必须通过</span>throws<span style="font-family:宋体;">进行声明，让调用者去处理。</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;color:red;">声明异常格式：</span></p><p><span style="font-family:宋体;color:red;">修饰符</span> <span style="font-family:宋体;color:red;">返回值类型</span> <span style="font-family:宋体;color:red;">方法名</span><span style="color:red;">(</span><span style="font-family:宋体;color:red;">参数</span><span style="color:red;">) throws </span><span style="font-family:宋体;color:red;">异常类名</span><span style="color:red;">1,</span><span style="font-family:宋体;color:red;">异常类名</span><span style="color:red;">2… {&nbsp;&nbsp; }</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">声明异常的代码演示：</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">/<em></em></span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明。</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;<em>/</em></span></p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicclass</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> Test {</span></p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicstaticvoid</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> main(String[] args) </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">throws</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> FileNotFoundException {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">/</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em> </em></span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">当我们创建 字符输入流对象的时候&nbsp;&nbsp;&nbsp; 也就是调用FileReader构造方法的时候产生了异常</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">当这个构造有异常的时候,必须报告给调用者,这时我们需要在方法上使用throws关键字声明</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em>/</em></span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; FileReader <span style="text-decoration:underline;">fr</span> = </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">new</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> FileReader(</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">“a.txt”</span><span style="font-size:12px;font-family:Consolas;color:black;">); </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp; }</span></p><p style="background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">}</span></p><p style="text-indent:28px;">throws<span style="font-family:宋体;">用于进行异常类的声明，若该方法可能有多种异常情况产生，那么在</span>throws<span style="font-family:宋体;">后面可以写多个异常类，用逗号隔开。</span></p><p><span style="font-family:宋体;">多个异常的情况，例如</span>:</p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicclass</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> Test {</span></p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicstaticvoid</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> main(String[] args) </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">throws</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> FileNotFoundException,IOException {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">/</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em> new FileReader(“a.txt”)</em></span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">产生了FileNotFoundException异常</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; /</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; FileReader fr = </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">new</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> FileReader(</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">“a.txt”</span><span style="font-size:12px;font-family:Consolas;color:black;">); </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">/<em></em></span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  fr.read()</span><span style="font-size: 12px;font-family:Consolas;color:#3F7F5F;">这个功能中存在&nbsp; IOException异常</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <em>/</em></span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">int</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> c = fr.read();</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; System.</span><em><span style="font-size:12px;font-family:Consolas;color:#0000C0;">out</span></em><span style="font-size:12px;font-family:Consolas;color:black;">.println(c);</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp; }</span></p><h3 style="background: rgb(216, 216, 216) none repeat scroll 0% 0%;font-weight: bold;font-size: 16px;line-height: 1.6em;"><span style="font-size:12px;line-height:172%;font-family:Consolas;color:black;">}</span></h3><h3 style="font-weight: bold;font-size: 16px;line-height: 1.6em;">2.4.3<span style="font-family:宋体;">捕获异常</span>try…catch…finally</h3><p style="text-indent:28px;"><span style="font-family:宋体;">捕获：</span>Java<span style="font-family:宋体;">中对异常有针对性的语句进行捕获，可以对出现的异常进行指定方式的处理</span></p><p style="text-indent:28px;"><span style="font-family:宋体;color:red;">捕获异常格式：</span></p><p><span style="color:red;">try {</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp; //</span><span style="font-family:宋体;color:red;">需要被检测的语句。</span></p><p><span style="color:red;">}</span></p><p><span style="color:red;">catch(</span><span style="font-family:宋体;color:red;">异常类</span> <span style="font-family:宋体;color:red;">变量</span><span style="color:red;">) { //</span><span style="font-family:宋体;color:red;">参数。</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp; //</span><span style="font-family:宋体;color:red;">异常的处理语句。</span></p><p><span style="color:red;">}</span></p><p><span style="color:red;">finally {</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp; //</span><span style="font-family:宋体;color:red;">一定会被执行的语句。</span></p><p><span style="color:red;">}</span></p><p><strong>try：</strong>该代码块中编写可能产生异常的代码。</p><p><strong>catch：</strong>用来进行某种异常的捕获，实现对捕获到的异常进行处理。</p><p style="text-indent:28px;"><strong>finally</strong><strong><span style="font-family:宋体;">：</span></strong><span style="font-family: 宋体;">有一些特定的代码无论异常是否发生，都需要执行。另外，因为异常会引发程序跳转，导致有些语句执行不到。而</span>finally<span style="font-family:宋体;">就是解决这个问题的，在</span>finally<span style="font-family:宋体;">代码块中存放的代码都是一定会被执行的。</span></p><p>演示如下：</p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicclass</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> Test {</span></p><p style="text-align:left;background:#D8D8D8;"><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">publicstaticvoid</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> main(String[] args) {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; FileReader fr = </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">null</span></strong><span style="font-size:12px;font-family:Consolas;color:black;">;</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">try</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">当产生异常时，必须有处理方式。要么捕获，要么声明。</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fr = </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">new</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> FileReader(</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">“a.txt”</span><span style="font-size:12px;font-family:Consolas;color:black;">);</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">int</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> c = fr.read();</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><em><span style="font-size:12px;font-family:Consolas;color:#0000C0;">out</span></em><span style="font-size:12px;font-family:Consolas;color:black;">.println(c);</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">catch</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> (IOException e) {</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">括号中需要定义什么呢？try中抛出的是什么异常，在括号中就定义什么异常类型。 </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><em><span style="font-size:12px;font-family:Consolas;color:#0000C0;">out</span></em><span style="font-size:12px;font-family:Consolas;color:black;">.println(</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">“</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">读取文件时候出现了异常~”</span><span style="font-size:12px;font-family:Consolas;color:black;">);</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">finally</span></strong><span style="font-size:12px;font-family:Consolas;color:black;">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">if</span></strong><span style="font-size:12px;font-family:Consolas;color:black;">(fr!=</span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">null</span></strong><span style="font-size:12px;font-family:Consolas;color:black;">){</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">如果流存在&nbsp; 需要在最后释放掉 不管前面有没有异常 都应该做</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">try</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fr.close();</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">释放流资源</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">//</span><span style="font-size:12px;font-family:Consolas;color:#3F7F5F;">关闭流的时候 又有了异常 那么也可以在进行一次try..catch</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size:12px;font-family:Consolas;color:#7F0055;">catch</span></strong><span style="font-size:12px;font-family:Consolas;color:black;"> (IOException e) {</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><em><span style="font-size:12px;font-family:Consolas;color:#0000C0;">out</span></em><span style="font-size:12px;font-family:Consolas;color:black;">.println(</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">“</span><span style="font-size:12px;font-family:Consolas;color:#2A00FF;">释放资源出现了异常~”</span><span style="font-size:12px;font-family:Consolas;color:black;">);</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="text-align:left;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="margin-left:28px;background:#D8D8D8;"><span style="font-size:12px;font-family:Consolas;color:black;">}</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">2.5<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">异常注意事项</span></h2><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">多异常处理</span></p><p style="margin-left:112px;"><span style="font-family:宋体;">捕获处理：</span></p><p style="margin-left:112px;text-indent:28px;">1<span style="font-family:宋体;">多个异常分别处理</span></p><p style="margin-left:112px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2<span style="font-family:宋体;">多个异常一次捕获多次处理</span></p><p style="margin-left:112px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3<span style="font-family:宋体;">多个异常一次捕获一次处理</span></p><p style="margin-left:112px;"><span style="font-family:宋体;">声明抛出异常：</span></p><p style="margin-left:112px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">声明上使用</span>,<span style="font-family:宋体;">一次声明多个异常</span>&nbsp;&nbsp;</p><p><br></p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">运行时异常被抛出可以不处理。即不捕获也不声明抛出</span></p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>&nbsp;</p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">如果父类方法抛出了多个异常</span>,<span style="font-family:宋体;">子类覆盖父类方法时</span>,<span style="font-family:宋体;">只能抛出相同的异常或者是他的子集</span></p><p><br></p><p><br></p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">父类方法没有抛出异常，子类覆盖父类该方法时也不可抛出异常。此时子类产生该异常，只能捕获处理，不能声明抛出</span>[<span style="font-family:宋体;">多线程会用到这个</span>]</p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">当多异常处理时，捕获处理，前边的类不能是后边类的父类</span></p><p style="margin-left:75px;"><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><span style="font-family:宋体;">在</span>try/catch<span style="font-family:宋体;">后可以追加</span>finally<span style="font-family:宋体;">代码块，其中的代码一定会被执行，通常用于资源回收。</span></p><p style="margin-left:47px;text-indent:28px;"><span style="font-family:宋体;">代码演示</span>:</p><p>void show(){ //<span style="font-family: 宋体;">不用</span>throws</p><p>&nbsp;&nbsp;&nbsp; try{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">异常代码</span>;//<span style="font-family: 宋体;">产生异常，直接捕获处理</span></p><p>&nbsp;&nbsp;&nbsp; }catch(Exception e){</p><p style="text-indent:82px;">//<span style="font-family:宋体;">处理方式</span>&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><strong>一个try 多个catch组合</strong> : 对代码进行异常检测，并对检测的异常传递给catch处理。对每种异常信息进行不同的捕获处理。</p><p>void show(){ //<span style="font-family: 宋体;">不用</span>throws</p><p>&nbsp;&nbsp;&nbsp; try{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">异常代码</span>;//<span style="font-family: 宋体;">产生异常，直接捕获处理</span></p><p>&nbsp;&nbsp;&nbsp; }catch(XxxException e){</p><p style="text-indent:82px;">//<span style="font-family:宋体;">处理方式</span>&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; }catch(YyyException e){</p><p style="text-indent:82px;">//<span style="font-family:宋体;">处理方式</span>&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; }catch(ZzzException e){</p><p style="text-indent:82px;">//<span style="font-family:宋体;">处理方式</span>&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="text-indent:28px;"><span style="font-family:宋体;">注意</span>:<span style="font-family:宋体;">这种异常处理方式，要求多个</span>catch<span style="font-family:宋体;">中的异常不能相同，并且若</span>catch<span style="font-family:宋体;">中的多个异常之间有子父类异常的关系，那么子类异常要求在上面的</span>catch<span style="font-family:宋体;">处理，父类异常在下面的</span>catch<span style="font-family:宋体;">处理。</span></p><p><br></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span><strong>try finally 组合</strong>: 对代码进行异常检测，检测到异常后因为没有catch，所以一样会被默认jvm抛出。异常是没有捕获处理的。但是功能所开启资源需要进行关闭，所有finally。只为关闭资源。</p><p>void show(){//<span style="font-family: 宋体;">需要</span>throws</p><p>&nbsp;&nbsp;&nbsp; try{</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">异常代码</span>;</p><p>&nbsp;&nbsp;&nbsp; }finally {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">释放资源</span></p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><span style="font-family:宋体;color:red;">补充</span> <span style="font-family: 宋体;color:red;">练习一</span><span style="color:red;">[</span><span style="font-family:宋体;color:red;">与大纲无关</span><span style="color:red;">]:</span> </p><p style="margin-left:28px;text-indent:28px;"><span style="font-family:宋体;">方法中已经出现返回语句返回值</span>i<span style="font-family:宋体;">，再在</span>finally<span style="font-family:宋体;">中修改</span>i<span style="font-family:宋体;">值，则最终的返回值仍为修改前</span>i<span style="font-family:宋体;">的值。但在该方法中</span>i<span style="font-family:宋体;">的值已经被修改了</span></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycvr49dnBoF79CTuhx2liceXrRccXKO0JY1KLKBEFZM6JKiaOYRB2J0Rog/640?wx_fmt=png" _src="https://mmbiz.qpic.cn/mmbiz_png/ZiaTmhbeINrVhlqQ9QshgpZI4RapKFVycvr49dnBoF79CTuhx2liceXrRccXKO0JY1KLKBEFZM6JKiaOYRB2J0Rog/640?wx_fmt=png"><span style="font-family:宋体;color:red;"><br></span></p><p><span style="font-family:宋体;color:red;">补充二</span><span style="color:red;">:</span> </p><p style="text-indent:0;">&nbsp;&nbsp;&nbsp; /</p><p>&nbsp;<em>&nbsp; <span style="font-family:宋体;">异常的自己有分类</span>:</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">编译异常</span>:</p><p>&nbsp;<em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">方法中抛出异常</span>,<span style="font-family:宋体;">不是</span>RuntimeException<span style="font-family:宋体;">类的子类的异常</span></em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">抛出的是编译异常</span>,<span style="font-family:宋体;">必须处理</span>,<span style="font-family:宋体;">不处理编译失败</span></p><p>&nbsp;<em>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">运行异常</span>:</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">方法中抛出的异常</span>,<span style="font-family:宋体;">都是</span>RuntimeException<span style="font-family:宋体;">或者是他的子类异常</span></p><p>&nbsp;<em>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:宋体;">抛出的是运行时期异常</span>,<span style="font-family:宋体;">无需在方法上写</span>throws</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">不要处理</span>,<span style="font-family:宋体;">如果出现只能直接修改代码</span></p><p>&nbsp;<em>/</em></p><p>public class RuntimeExceptionDemo {</p><p>&nbsp;&nbsp;&nbsp; public static void main(String[] args){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show();</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; public static void show(){</p><p style="margin-left:56px;">//throw new Exception();</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //throw new RuntimeException();</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><br></p><p style="margin-left:47px;text-indent:28px;"><br></p><h1 style="margin-left: 59px;font-weight: bold;font-size: 16px;line-height: 1.6em;">第3章<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;">自定义异常</span></h1><p style="text-indent:28px;"><span style="font-family:宋体;">在上述代码中，发现这些异常都是</span>JDK<span style="font-family:宋体;">内部定义好的，但是实际开发中也会出现很多异常</span>,<span style="font-family:宋体;">这些异常很可能在</span>JDK<span style="font-family:宋体;">中没有定义过</span>,<span style="font-family:宋体;">例如年龄负数问题</span>,<span style="font-family:宋体;">考试成绩负数问题</span>.<span style="font-family:宋体;">那么能不能自己定义异常呢？</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">之前的几个异常都是</span>java<span style="font-family:宋体;">通过类进行的描述。并将问题封装成对象，异常就是将问题封装成了对象。这些异常不好认，书写也很不方便，能不能定义一个符合我的程序要求的异常名称。既然</span>JDK<span style="font-family:宋体;">中是使用类在描述异常信息，那么我们也可以模拟</span>Java<span style="font-family:宋体;">的这种机制，我们自己定义异常的信息，异常的名字，让异常更符合自己程序的阅读。准确对自己所需要的异常进行类的描述。</span></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">3.1<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">自定义异常类的定义</span></h2><p style="text-indent:28px;"><span style="font-family:宋体;">通过阅读异常源代码：发现</span>java<span style="font-family:宋体;">中所有的异常类，都是继承</span>Throwable<span style="font-family:宋体;">，或者继承</span>Throwable<span style="font-family:宋体;">的子类。这样该异常才可以被</span>throw<span style="font-family:宋体;">抛出。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">说明这个异常体系具备一个特有的特性：可抛性：即可以被</span>throw<span style="font-family:宋体;">关键字操作。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">并且查阅异常子类源码，发现每个异常中都调用了父类的构造方法，把异常描述信息传递给了父类，让父类帮我们进行异常信息的封装。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">例如</span>NullPointerException<span style="font-family:宋体;">异常类源代码：</span></p><p><strong><span style="color:#7F0055;">publicclass</span></strong> NullPointerException <strong><span style="color:#7F0055;">extends</span></strong> RuntimeException {</p><p><strong><span style="color:#7F0055;">&nbsp;&nbsp;&nbsp;&nbsp; public</span></strong> NullPointerException() {</p><p><strong><span style="color:#7F0055;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super</span></strong>();//<span style="font-family:宋体;">调用父类构造方法</span></p><p>&nbsp;&nbsp;&nbsp; &nbsp;}</p><p><strong><span style="color:#7F0055;">&nbsp;&nbsp;&nbsp; public</span></strong> NullPointerException(String <span style="color:#6A3E3E;">s</span>) {</p><p><strong><span style="color:#7F0055;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super</span></strong>(<span style="color:#6A3E3E;">s</span>);//<span style="font-family:宋体;">调用父类具有异常信息的构造方法</span></p><p>&nbsp;&nbsp; &nbsp;}</p><p>}</p><p style="text-indent:28px;"><span style="font-family:宋体;">现在，我们来定义个自己的异常，即自定义异常。</span></p><p style="text-indent:28px;"><strong><span style="font-family:宋体;">格式：</span></strong></p><p><span style="color:red;">Class </span><span style="font-family:宋体;color:red;">异常名</span><span style="color:red;"> extends Exception{ </span><strong>//</strong><strong><span style="font-family:宋体;">或继承</span>RuntimeException</strong></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp; public </span><span style="font-family:宋体;color:red;">异常名</span><span style="color:red;">(){</span></p><p style="text-indent:52px;"><span style="color:red;">}</span></p><p><span style="color:red;">&nbsp;&nbsp;&nbsp; public </span><span style="font-family:宋体;color:red;">异常名</span><span style="color:red;">(String s){ </span></p><p style="text-indent:78px;"><span style="color:red;">super(s); </span></p><p style="text-indent:52px;"><span style="color:red;">}</span></p><p><span style="color:red;">}</span></p><p style="margin-left:0;text-indent:0;"><br></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>自定义异常继承Exception演示</p><p>class MyException extends Exception{</p><p>&nbsp;&nbsp;&nbsp; /</p><p>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">为什么要定义构造函数，因为看到</span>Java<span style="font-family:宋体;">中的异常描述类中有提供对异常对象的初始化方法。</span></p><p>&nbsp;&nbsp;&nbsp; <em>/</em></p><p>&nbsp;&nbsp;&nbsp; public MyException(){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span style="color:red;">super();</span></strong></p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; public MyException(String message)&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span style="color:red;">super(message);// </span></strong><strong><span style="font-family:宋体;color:red;">如果自定义异常需要异常信息，可以通过调用父类的带有字符串参数的构造函数即可。</span></strong></p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="text-indent:28px;"><br></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>自定义异常继承RuntimeException演示</p><p>class MyException extends RuntimeException{</p><p>&nbsp;&nbsp;&nbsp; /</p><p>&nbsp;&nbsp;&nbsp; <span style="font-family:宋体;">为什么要定义构造函数，因为看到</span>Java<span style="font-family:宋体;">中的异常描述类中有提供对异常对象的初始化方法。</span></p><p>&nbsp;&nbsp;&nbsp; */</p><p>&nbsp;&nbsp;&nbsp; MyException(){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span style="color:red;">super();</span></strong></p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; MyException(String message) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span style="color:red;">super(message);// </span></strong><strong><span style="font-family:宋体;color:red;">如果自定义异常需要异常信息，可以通过调用父类的带有字符串参数的构造函数即可。</span></strong></p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="text-indent:28px;"><br></p><h2 style="margin: 17px 14px 17px 52px;font-weight: bold;font-size: 16px;line-height: 1.6em;">3.2<span style="font:9px 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:华文楷体;">自定义异常的练习</span></h2><p style="text-indent:28px;"><span style="font-family:宋体;">定义</span>Person<span style="font-family:宋体;">类，包含</span>name<span style="font-family:宋体;">与</span>age<span style="font-family:宋体;">两个成员变量。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">在</span>Person<span style="font-family:宋体;">类的有参数构造方法中，进行年龄范围的判断，若年龄为负数或大于</span>150<span style="font-family:宋体;">岁，则抛出</span>NoAgeException<span style="font-family:宋体;">异常，异常提示信息“年龄数值非法”。</span></p><p style="text-indent:28px;"><span style="font-family:宋体;">要求：在测试类中，调用有参数构造方法，完成</span>Person<span style="font-family:宋体;">对象创建，并进行异常的处理。</span></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>自定义异常类</p><p>class NoAgeException extends Exception{</p><p>&nbsp;&nbsp;&nbsp; NoAgeException() {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super();</p><p>&nbsp;&nbsp;&nbsp; }</p><p><br></p><p>&nbsp;&nbsp;&nbsp; NoAgeException(String message)&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super(message);</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>Person类</p><p>class Person{</p><p>&nbsp;&nbsp;&nbsp; private String name;</p><p>&nbsp;&nbsp;&nbsp; private int age;</p><p>&nbsp;&nbsp;&nbsp; Person(String name,int age) throws NoAgeException&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">加入逻辑判断。</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(age&lt;0 || age&gt;200)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new NoAgeException(age+”,<span style="font-family:宋体;">年龄数值非法</span>“);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.name = name;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.age = age;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; //<span style="font-family:宋体;">定义</span>Person<span style="font-family: 宋体;">对象对应的字符串表现形式。覆盖</span>Object<span style="font-family:宋体;">中的</span>toString<span style="font-family:宋体;">方法。</span></p><p>&nbsp;&nbsp;&nbsp; public String toString()&nbsp;&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return “Person[name=”+name+”,age=”+age+”]”;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>测试类</p><p>class ExceptionDemo{</p><p>&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Person p = new Person(“xiaoming”,20);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(p);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (NoAgeException ex){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(“<span style="font-family:宋体;">年龄异常啦</span>“);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(“over”);</p><p>&nbsp;&nbsp;&nbsp; }</p><p>}</p><p style="text-indent:0;"><br></p><p style="text-indent:28px;"><span style="font-family:宋体;">总结一下，构造函数到底抛出这个</span>NoAgeException<span style="font-family:宋体;">是继承</span>Exception<span style="font-family:宋体;">呢？还是继承</span>RuntimeException<span style="font-family:宋体;">呢？</span></p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>继承Exception，必须要throws声明，一声明就告知调用者进行捕获，一旦问题处理了调用者的程序会继续执行。</p><p><span style="font-family:Wingdings;">l<span style="font:9px 'Times New Roman';">&nbsp; </span></span>继承RuntimeExcpetion,不需要throws声明的，这时调用是不需要编写捕获代码的，因为调用根本就不知道有问题。一旦发生NoAgeException，调用者程序会停掉，并有jvm将信息显示到屏幕，让调用者看到问题，修正代码。</p><p><br></p><section class="_editor"><p><br></p></section><p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/10/异常、Object类/" data-id="cjqqsawkm0009t0otdrz1xtof" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2019/01/10/集合【LinkedList、HashSet、Collection集合体系】/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">集合【LinkedList、HashSet、Collection集合体系】</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/10/异常、Object类/">异常、Object类</a>
          </li>
        
          <li>
            <a href="/2019/01/10/集合【LinkedList、HashSet、Collection集合体系】/">集合【LinkedList、HashSet、Collection集合体系】</a>
          </li>
        
          <li>
            <a href="/2019/01/09/集合/">集合</a>
          </li>
        
          <li>
            <a href="/2019/01/08/常用API/">常用API</a>
          </li>
        
          <li>
            <a href="/2019/01/05/重写、this、super-抽象类/">重写、this、super,抽象类</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Zhang Bin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>